<div *ngIf="backend.getCurrentUser() | async as user; else showLoginOrRegister">
  <h1>Hello {{ user.name }}!</h1>
  <br />
  <button mat-stroked-button (click)="logout()">Logout</button>
</div>
<ng-template #showLoginOrRegister>
  <div *ngIf="backend.getUnregistered() | async; else showLogin">
    Please choose a display name:
    <input type="text" id="desiredName" name="desireName" [formControl]="desiredName">
    <p><button mat-stroked-button (click)="setName()" [disabled]="desiredName.invalid || desiredName.pristine">Set Name</button></p>
    <div *ngIf="desiredName.invalid && (desiredName.dirty || desiredName.touched)"
      class="alert alert-danger">
      <div *ngIf="desiredName.errors && desiredName.errors.minlength">
        Your display name must be at least 2 characters long.
      </div>
    </div>
    <div class="alert alert-danger">
      {{registrationErrorMsg}}
    </div>
    <br />
    <button mat-stroked-button (click)="logout()">Logout</button>
  </div>
  <ng-template #showLogin>
    <p>Please login.</p>
    <button mat-stroked-button (click)="googleLogin()">Login with Google</button>
  </ng-template>
</ng-template>
